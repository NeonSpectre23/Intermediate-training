# 实训项目汇报

## 团队介绍

- **组长**：胡昱杰
- **组员**：冯梓斌，贺斌
- **分工**：
  - **冯梓斌**：负责后端框架搭建与核心功能实现，以及部分前端页面的设计与实现，数据库设计与优化，实现前后端联调，并加入代码混淆功能
  - **贺斌**：负责大部分前端框架和功能的实现
  - **胡昱杰**：负责Java代码沙箱的实现

## 项目背景

本实训项目实现了一个多语言在线编程评测系统（Online Judge），该平台为用户提供多样化的编程题目，支持多种编程语言的代码提交与评测，旨在帮助用户提升编程能力。系统采用现代化的技术栈，结合了代码混淆等特色功能，为用户提供了一个功能全面、体验良好的编程练习环境。

## 项目功能

### 用户注册与登录
提供用户注册、登录功能，验证用户信息以保证系统安全，并支持后续功能的使用。

### 个人信息管理
支持用户查看和修改个人信息，包括头像、用户名、简介、密码等。同时支持查看个人的题目提交记录与收藏列表。

### 题目管理
- **创建题目**：通过输入标题、标签、题目内容、答案、判题配置、测试用例等信息，创建并发布新题目
- **浏览题目**：展示所有题目的题号、题目名称、标签、通过率、创建时间等信息，支持收藏题目或直接做题，并提供通过名称或标签查询题目的功能
- **管理题目**：查看所有题目的完整信息，并可对题目进行修改或删除操作

### 代码混淆
提供C、Python两种语言的代码混淆功能，支持基础混淆、强混淆两种混淆方案，可对用户输入的代码进行混淆并输出结果，增强代码安全性。

### 代码提交与评测
支持用户对特定题目进行编程并提交代码，支持Java、Python等多种编程语言。系统通过集成Judge0 API提供稳定、高效的代码评测环境，返回详细的评测结果，包括运行时间、内存消耗等信息。

### 社交功能
支持题目收藏功能，增强用户的互动性。

### 主题切换
支持切换界面主题，包括浅色、深色和跟随系统三种模式，满足不同用户的视觉偏好。

## 项目实现过程中遇到的问题及解决办法

1. **代码沙箱实现困难**：
   - 问题：传统代码沙箱实现复杂，资源消耗大，安全性难以保证
   - 解决办法：采用Judge0 API服务替代传统代码沙箱，提供更稳定、高效的代码评测环境，支持多种编程语言

2. **主页设计与功能重复**：
   - 问题：初期主页设计与浏览题目功能高度一致，缺乏特色
   - 解决办法：重新构建主页，设计了一个更美观、功能更丰富的主页，突出系统特色和核心功能

3. **题目ID显示问题**：
   - 问题：题目实际ID与显示不一致，超出int类型范围
   - 解决办法：将题目ID字段类型从int改为string，确保ID正确显示和处理

4. **前后端联调问题**：
   - 问题：前后端数据格式不一致，API调用失败
   - 解决办法：制定统一的数据格式规范，使用Swagger生成API文档，确保前后端开发人员明确接口定义

5. **代码混淆策略设计**：
   - 问题：不同语言的代码混淆难度不同，需要设计合理的混淆策略
   - 解决办法：针对C和Python语言分别设计混淆策略，提供基础混淆和强混淆两种方案，满足不同用户需求

## 项目亮点

### 1. 灵活的代码混淆架构
本项目创新性地加入了代码混淆功能，采用工厂模式和策略模式设计，支持动态扩展新的语言和混淆方案。
- 支持C、Python两种语言的代码混淆
- 提供基础混淆、强混淆两种混淆方案
- 抽象基类封装通用功能，具体策略类实现不同混淆算法
- 易于扩展新的语言和混淆方案

### 2. 用户友好的代码混淆界面
前端设计了直观易用的代码混淆界面，提供良好的用户体验：
- 双编辑器实时展示源代码和混淆后代码
- 支持语言和混淆方案的动态切换
- 内置示例代码，方便用户快速体验
- 一键混淆操作，流程清晰简洁

### 3. Judge0 API集成
采用Judge0 API服务替代传统代码沙箱，提供更稳定、高效的代码评测环境：
- 支持多种编程语言的代码评测
- 详细的评测结果，包括运行时间、内存消耗等
- 异步判题机制，避免阻塞用户请求
- 自动更新题目通过率和提交数

### 4. 现代化的前后端技术栈
- **后端**：基于Java 21 + Spring Boot 2.7.x + MyBatis Plus构建，采用分层设计，代码结构清晰，易于扩展
- **前端**：使用Vue 3 + TypeScript + Ant Design Vue开发，响应式设计，提供流畅的用户体验
- 支持多种数据库操作，优化查询性能

### 5. 模块化架构设计
系统采用高度模块化的设计理念：
- 各功能模块之间低耦合高内聚，便于维护和扩展
- 后端分层设计，包括控制层、服务层、数据访问层等
- 前端组件化开发，提高代码复用性和可维护性
- 统一的异常处理和响应格式，便于前后端联调

### 6. 丰富的用户交互体验
- 支持题目收藏、帖子点赞等社交功能，增强用户粘性
- 主题切换功能，支持浅色、深色和跟随系统三种模式
- 响应式设计，适配不同屏幕尺寸
- 代码编辑器支持多种编程语言，提供语法高亮和自动补全

### 7. 高效的代码评测流程
- 采用代理模式设计代码沙箱，支持多种沙箱实现
- 异步判题机制，避免阻塞用户请求
- 详细的评测结果，包括运行时间、内存消耗等
- 自动更新题目通过率和提交数

### 8. 良好的代码质量
- 完整的注释，便于理解和维护
- 严格的类型检查，减少运行时错误
- 模块化设计，各功能模块低耦合高内聚
- 支持单元测试，确保系统稳定性

### 9. 灵活的扩展能力
- 代码混淆架构支持动态扩展新的语言和混淆方案
- 代码沙箱设计支持多种实现，便于切换和扩展
- 模块化设计，便于添加新的功能模块
- 统一的API设计，便于与其他系统集成

### 10. 完善的功能覆盖
- 从用户注册登录到题目管理，再到代码提交评测和混淆，功能全面
- 支持不同角色的用户需求，包括普通用户和管理员
- 提供完整的用户反馈机制，便于系统改进
- 支持多种搜索和筛选功能，方便用户查找题目

## 技术栈

### 后端（oj-backend）
- Java 21
- Spring Boot 2.7.x
- MyBatis Plus
- MySQL

### 前端（oj-frontend）
- Vue 3
- TypeScript
- Ant Design Vue
- Vite

## 总结

本实训项目成功实现了一个功能全面、体验良好的在线编程评测系统，涵盖了用户管理、题目管理、代码提交与评测、代码混淆等核心功能。项目采用现代化的技术栈，结合了代码混淆等特色功能，具有较高的实用价值和创新性。

在项目实现过程中，团队成员分工明确，协作默契，成功解决了一系列技术难题，最终完成了一个高质量的实训项目。通过本次实训，团队成员不仅提升了专业技能，还培养了团队合作能力和解决问题的能力。

未来，我们可以考虑进一步扩展系统功能，如增加更多编程语言的支持、优化代码混淆算法、增强系统安全性等，使系统更加完善和实用。